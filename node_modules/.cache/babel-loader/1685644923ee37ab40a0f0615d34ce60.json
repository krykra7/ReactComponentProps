{"ast":null,"code":"import _toConsumableArray from \"/home/kkrawczyk/Projects/6hxo7u/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/kkrawczyk/Projects/6hxo7u/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/home/kkrawczyk/Projects/6hxo7u/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _jsxFileName = \"/home/kkrawczyk/Projects/6hxo7u/src/notworking/ListContainer.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { makeStyles } from \"tss-react/mui\";\nimport React, { useEffect, useState } from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddBoxRoundedIcon from '@mui/icons-material/AddBoxRounded';\nimport ListItem from \"./ListItem\";\nimport { apiCall } from \"../common/ApiMock\";\nimport InfiniteList from \"./InfiniteList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles()(function (theme) {\n  var _body;\n\n  return {\n    header: {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: theme.spacing(1),\n      flexWrap: \"wrap\"\n    },\n    body: (_body = {}, _defineProperty(_body, theme.breakpoints.down('xs'), {\n      maxHeight: \"20vh\"\n    }), _defineProperty(_body, theme.breakpoints.up('sm'), {\n      maxHeight: \"40vh\"\n    }), _defineProperty(_body, theme.breakpoints.up('md'), {\n      maxHeight: \"60vh\"\n    }), _defineProperty(_body, theme.breakpoints.up('lg'), {\n      maxHeight: \"70vh\"\n    }), _defineProperty(_body, theme.breakpoints.up('xl'), {\n      maxHeight: \"80vh\"\n    }), _defineProperty(_body, \"overflowY\", \"auto\"), _defineProperty(_body, \"::-webkit-scrollbar\", {\n      display: \"none\"\n    }), _body)\n  };\n});\n\nvar useVisitsCaller = function useVisitsCaller(pageNumber, patientId) {\n  _s();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      hasMore = _useState6[0],\n      setHasMore = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  useEffect(function () {\n    setLoading(true);\n    setError(false);\n    apiCall(pageNumber, 8, patientId).then(function (resp) {\n      setData(function (prevData) {\n        return [].concat(_toConsumableArray(prevData), _toConsumableArray(resp.content));\n      });\n      setHasMore(resp.number * resp.size < resp.totalElements);\n      setLoading(false);\n    }).catch(function () {\n      setError(true);\n    });\n  }, [pageNumber, patientId]);\n  return {\n    loading: loading,\n    error: error,\n    data: data,\n    hasMore: hasMore\n  };\n};\n\n_s(useVisitsCaller, \"uNaMW1+rdP/qUIrnItWjX0jqjAU=\");\n\nexport function ListContainer(_ref) {\n  _s2();\n\n  var patientId = _ref.patientId;\n\n  var _useStyles = useStyles(),\n      classes = _useStyles.classes;\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        size: \"large\",\n        onClick: function onClick() {},\n        children: /*#__PURE__*/_jsxDEV(AddBoxRoundedIcon, {\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.body,\n      children: /*#__PURE__*/_jsxDEV(InfiniteList, {\n        patientId: patientId,\n        dataLoader: useVisitsCaller,\n        renderItem: ListItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(ListContainer, \"dEcGkkWBp2V3HKTMad5HGP/1Kk4=\", false, function () {\n  return [useStyles];\n});\n\n_c = ListContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListContainer\");","map":{"version":3,"sources":["/home/kkrawczyk/Projects/6hxo7u/src/notworking/ListContainer.tsx"],"names":["makeStyles","React","useEffect","useState","Box","Typography","IconButton","AddBoxRoundedIcon","ListItem","apiCall","InfiniteList","useStyles","theme","header","display","alignItems","gap","spacing","flexWrap","body","breakpoints","down","maxHeight","up","useVisitsCaller","pageNumber","patientId","loading","setLoading","error","setError","hasMore","setHasMore","data","setData","then","resp","prevData","content","number","size","totalElements","catch","ListContainer","classes"],"mappings":"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","sourcesContent":["import {makeStyles} from \"tss-react/mui\";\nimport React, {useEffect, useState} from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport AddBoxRoundedIcon from '@mui/icons-material/AddBoxRounded';\nimport ListItem from \"./ListItem\";\nimport {apiCall} from \"../common/ApiMock\";\nimport Items from \"../common/Items\";\nimport {Item} from \"../common/Item\";\nimport InfiniteList, {PaginationCallerOutput} from \"./InfiniteList\";\n\nconst useStyles = makeStyles()((theme) => ({\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: theme.spacing(1),\n        flexWrap: \"wrap\",\n    },\n    body: {\n        [theme.breakpoints.down('xs')]: {\n            maxHeight: \"20vh\"\n        },\n        [theme.breakpoints.up('sm')]: {\n            maxHeight: \"40vh\"\n        },\n        [theme.breakpoints.up('md')]: {\n            maxHeight: \"60vh\"\n        },\n        [theme.breakpoints.up('lg')]: {\n            maxHeight: \"70vh\"\n        },\n        [theme.breakpoints.up('xl')]: {\n            maxHeight: \"80vh\"\n        },\n        overflowY: \"auto\",\n        \"::-webkit-scrollbar\": {\n            display: \"none\"\n        }\n    }\n}))\n\ntype Props = {\n    patientId: number;\n}\n\nconst useVisitsCaller = (pageNumber: number, patientId: number):\n    PaginationCallerOutput<Item> => {\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false)\n    const [hasMore, setHasMore] = useState(false)\n    const [data, setData] = useState([] as Item[])\n\n    useEffect(() => {\n        setLoading(true);\n        setError(false);\n        apiCall(pageNumber, 8, patientId)\n            .then((resp: Items) => {\n                setData((prevData) => {\n                    return [...prevData, ...resp.content];\n                });\n                setHasMore((resp.number) * resp.size < resp.totalElements);\n                setLoading(false);\n            }).catch(() => {\n            setError(true);\n        });\n    }, [pageNumber, patientId])\n\n    return {loading, error, data, hasMore} as PaginationCallerOutput<Item>;\n};\n\nexport function ListContainer({patientId}: Props) {\n    const {classes} = useStyles();\n\n    return (\n        <Box>\n            <Box className={classes.header}>\n                <Typography variant=\"h5\">List</Typography>\n                <IconButton size=\"large\" onClick={() => {}}>\n                    <AddBoxRoundedIcon color={\"primary\"}/>\n                </IconButton>\n            </Box>\n            <Box className={classes.body}>\n                <InfiniteList patientId={patientId}\n                              dataLoader={useVisitsCaller}\n                              renderItem={ListItem}\n                />\n            </Box>\n        </Box>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}